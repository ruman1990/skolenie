Jasné! Tu je **učebný text** na témy **I18n a L10n**, moduly **locale**, **gettext** a knižnicu **Babel**. Materiál je vhodný pre výuku, teória aj príklady:

---

# 1. Pojmy I18n a L10n

## I18n (Internationalization)

* Skratka vznikla z anglického **"Internationalization"** – písmeno I, potom 18 písmen, a písmeno n → **I18n**.
* **Internationalization** znamená **prispôsobenie softvéru alebo webu tak, aby bol ľahko preložiteľný a použiteľný v rôznych krajinách a jazykoch**.
* I18n znamená, že v kóde je oddelený jazyk/text od funkcií programu, aby bolo možné jednoducho pridávať nové jazyky.

## L10n (Localization)

* Skratka z anglického **"Localization"** – písmeno L, 10 písmen, písmeno n → **L10n**.
* **Localization** znamená **preklad a prispôsobenie softvéru konkrétnemu jazyku, oblasti alebo kultúre** (napr. formáty dátumu, meny, texty, preklady chýb a pod.).
* L10n je proces, keď už existujúci „I18n-ready“ program naozaj prispôsobujeme konkrétnej krajine/jazyku.

### Príklad rozdielu:

* **I18n:** Pripravím web tak, že texty sú uložené v samostatných súboroch pre každý jazyk.
* **L10n:** Pripravím slovenský preklad, nastavím správny formát dátumu, meny atď.

---

# 2. Modul `locale` v Pythone

## Na čo slúži?

* Modul **`locale`** umožňuje zistiť a nastaviť **jazykové a kultúrne nastavenia** aplikácie (formát čísiel, dátumov, meny atď.).
* Pomáha automaticky správne formátovať čísla, dátumy podľa zvoleného „locale“.

## Príklad použitia:

```python
import locale

# Nastavenie slovenského locale (pre Unix/Linux)
locale.setlocale(locale.LC_ALL, 'sk_SK.UTF-8')

# Formátovanie čísla s oddelovačom tisícov
cislo = 1234567.89
print(locale.format_string("%.2f", cislo, grouping=True))  # napr. '1 234 567,89'
```

* **POZOR:** Niektoré lokalizácie treba mať v systéme nainštalované.
* Na Windowse môže byť zápis napr. `'slovak'`.

## Na čo je modul `locale` dobrý?

* Lokálne formátovanie čísel, peňazí, dátumov, percent, atď.
* Rozpoznanie používateľovho systému.

---

# 3. Modul `gettext` v Pythone

## Na čo slúži?

* Modul **`gettext`** slúži na **medzinárodný preklad textov** v aplikáciách (nielen v Pythone).
* Funguje na báze tzv. `.po` a `.mo` súborov (textové a binárne preklady).
* **Programátor v kóde označí texty na preklad** pomocou funkcie `_()`.

## Príklad použitia:

**1. Príprava:**

* Texty na preklad píšeme takto:

  ```python
  import gettext
  _ = gettext.gettext

  print(_("Vitajte v aplikácii!"))
  ```
* Kde \_ je bežná konvencia (alias pre funkciu na preklad).

**2. Preklad:**

* Preklad sa vytvára pomocou externých nástrojov (`xgettext`, `msgfmt`) do `.po` súborov (ľahko editovateľné) a `.mo` súborov (pre použitie v programe).

**3. Použitie pre konkrétny jazyk:**

```python
import gettext

lang = gettext.translation('messages', localedir='locale', languages=['sk'])
lang.install()

print(_('Hello!'))  # Vypíše preklad podľa slovenčiny
```

* `localedir` je cesta k prekladom, `'messages'` je meno domény (súboru).
* Ak nie je preklad, použije sa pôvodný text.

---

# 4. Knižnica Babel

## Na čo slúži?

* **Babel** je externá Python knižnica pre **i18n a l10n webových a desktopových aplikácií**.
* Umožňuje **preklad textov** aj **formátovanie dátumov, časov, čísel, mien** podľa zvoleného jazyka a kultúry.
* Podporuje generovanie, extrakciu a správu prekladových súborov podobne ako gettext.

## Základné použitie

### Inštalácia:

```bash
pip install Babel
```

### Príklady:

#### Formátovanie dátumu podľa locale:

```python
from babel.dates import format_date
from datetime import date

datum = date(2024, 7, 20)
print(format_date(datum, locale='sk'))  # '20. 7. 2024'
print(format_date(datum, locale='en'))  # 'Jul 20, 2024'
```

#### Formátovanie čísla:

```python
from babel.numbers import format_decimal

print(format_decimal(1234567.89, locale='sk'))  # '1 234 567,89'
print(format_decimal(1234567.89, locale='en_US'))  # '1,234,567.89'
```

#### Práca s prekladmi (gettext-like):

Babel generuje `.po` a `.mo` súbory a vie ich extrahovať z kódu (vhodné napr. pre Flask weby).

---

# Zhrnutie

* **I18n (internationalization):** Príprava kódu na viac jazykov.
* **L10n (localization):** Preklad a prispôsobenie na konkrétny jazyk/oblasť.
* **`locale`** – na formátovanie podľa jazyka/štátu (čísla, dátumy).
* **`gettext`** – na preklad textov v aplikácii pomocou .po/.mo súborov.
* **Babel** – komplexná knižnica na formátovanie a preklady, rozšírená hlavne vo webových aplikáciách (napr. Flask, Pyramid).




Jasné! Tu je **celý krok za krokom návod**, ako použiť **Babel bez Flasku** – teda v bežnom Python skripte – na **preklad textov** pomocou `gettext` + `Babel`.

---

# Priklad

## 📁 1. Štruktúra projektu (výsledná)

```
projekt/
├── main.py
├── babel.cfg
├── messages.pot              ← (vygeneruješ)
└── translations/
    └── sk/
        └── LC_MESSAGES/
            ├── messages.po   ← (upravíš)
            └── messages.mo   ← (vygeneruješ)
```

---

## 🐍 2. `main.py` – jednoduchý Python kód

```python
import gettext

lang = gettext.translation('messages', localedir='translations', languages=['sk'])
lang.install()

print(_('Hello!'))
```

---

## 📦 3. Inštaluj Babel (ak ešte nemáš)

```bash
pip install Babel
```

---

## ⚙️ 4. `babel.cfg` – konfiguračný súbor pre `pybabel`

Vytvor v koreňovom priečinku súbor s názvom `babel.cfg`:

```ini
[python: **.py]
```

To hovorí Babelu, že má extrahovať texty zo všetkých `.py` súborov.

---

## 🧾 5. Extrahuj reťazce z kódu → `.pot` súbor

Spusti v termináli:

```bash
pybabel extract -F babel.cfg -o messages.pot .
```

Výsledok: súbor `messages.pot` s textami na preklad.

---

## 🌍 6. Inicializuj preklad pre slovenčinu

```bash
pybabel init -i messages.pot -d translations -l sk
```

To vytvorí súbor: `translations/sk/LC_MESSAGES/messages.po`

---

## ✏️ 7. Otvor a uprav `messages.po` (prelož reťazce)

```po
msgid "Hello!"
msgstr "Ahoj!"
```

> Môžeš použiť akýkoľvek textový editor.

---

## 🧵 8. Zkompiluj `.po` → `.mo`

```bash
pybabel compile -d translations
```

Vytvorí sa súbor: `messages.mo`, ktorý `gettext` načíta.

---

## 🏁 9. Spusti skript

```bash
python main.py
```

Výstup:

```
Ahoj!
```

---

## ✅ Zhrnutie príkazov (prehľadne)

```bash
pip install Babel
pybabel extract -F babel.cfg -o messages.pot .
pybabel init -i messages.pot -d translations -l sk
# → upraviť messages.po
pybabel compile -d translations
python main.py
```
