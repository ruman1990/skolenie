JasnÃ©! Tu je **uÄebnÃ½ text** na tÃ©my **I18n a L10n**, moduly **locale**, **gettext** a kniÅ¾nicu **Babel**. MateriÃ¡l je vhodnÃ½ pre vÃ½uku, teÃ³ria aj prÃ­klady:

---

# 1. Pojmy I18n a L10n

## I18n (Internationalization)

* Skratka vznikla z anglickÃ©ho **"Internationalization"** â€“ pÃ­smeno I, potom 18 pÃ­smen, a pÃ­smeno n â†’ **I18n**.
* **Internationalization** znamenÃ¡ **prispÃ´sobenie softvÃ©ru alebo webu tak, aby bol Ä¾ahko preloÅ¾iteÄ¾nÃ½ a pouÅ¾iteÄ¾nÃ½ v rÃ´znych krajinÃ¡ch a jazykoch**.
* I18n znamenÃ¡, Å¾e v kÃ³de je oddelenÃ½ jazyk/text od funkciÃ­ programu, aby bolo moÅ¾nÃ© jednoducho pridÃ¡vaÅ¥ novÃ© jazyky.

## L10n (Localization)

* Skratka z anglickÃ©ho **"Localization"** â€“ pÃ­smeno L, 10 pÃ­smen, pÃ­smeno n â†’ **L10n**.
* **Localization** znamenÃ¡ **preklad a prispÃ´sobenie softvÃ©ru konkrÃ©tnemu jazyku, oblasti alebo kultÃºre** (napr. formÃ¡ty dÃ¡tumu, meny, texty, preklady chÃ½b a pod.).
* L10n je proces, keÄ uÅ¾ existujÃºci â€I18n-readyâ€œ program naozaj prispÃ´sobujeme konkrÃ©tnej krajine/jazyku.

### PrÃ­klad rozdielu:

* **I18n:** PripravÃ­m web tak, Å¾e texty sÃº uloÅ¾enÃ© v samostatnÃ½ch sÃºboroch pre kaÅ¾dÃ½ jazyk.
* **L10n:** PripravÃ­m slovenskÃ½ preklad, nastavÃ­m sprÃ¡vny formÃ¡t dÃ¡tumu, meny atÄ.

---

# 2. Modul `locale` v Pythone

## Na Äo slÃºÅ¾i?

* Modul **`locale`** umoÅ¾Åˆuje zistiÅ¥ a nastaviÅ¥ **jazykovÃ© a kultÃºrne nastavenia** aplikÃ¡cie (formÃ¡t ÄÃ­siel, dÃ¡tumov, meny atÄ.).
* PomÃ¡ha automaticky sprÃ¡vne formÃ¡tovaÅ¥ ÄÃ­sla, dÃ¡tumy podÄ¾a zvolenÃ©ho â€localeâ€œ.

## PrÃ­klad pouÅ¾itia:

```python
import locale

# Nastavenie slovenskÃ©ho locale (pre Unix/Linux)
locale.setlocale(locale.LC_ALL, 'sk_SK.UTF-8')

# FormÃ¡tovanie ÄÃ­sla s oddelovaÄom tisÃ­cov
cislo = 1234567.89
print(locale.format_string("%.2f", cislo, grouping=True))  # napr. '1Â 234Â 567,89'
```

* **POZOR:** NiektorÃ© lokalizÃ¡cie treba maÅ¥ v systÃ©me nainÅ¡talovanÃ©.
* Na Windowse mÃ´Å¾e byÅ¥ zÃ¡pis napr. `'slovak'`.

## Na Äo je modul `locale` dobrÃ½?

* LokÃ¡lne formÃ¡tovanie ÄÃ­sel, peÅˆazÃ­, dÃ¡tumov, percent, atÄ.
* Rozpoznanie pouÅ¾Ã­vateÄ¾ovho systÃ©mu.

---

# 3. Modul `gettext` v Pythone

## Na Äo slÃºÅ¾i?

* Modul **`gettext`** slÃºÅ¾i na **medzinÃ¡rodnÃ½ preklad textov** v aplikÃ¡ciÃ¡ch (nielen v Pythone).
* Funguje na bÃ¡ze tzv. `.po` a `.mo` sÃºborov (textovÃ© a binÃ¡rne preklady).
* **ProgramÃ¡tor v kÃ³de oznaÄÃ­ texty na preklad** pomocou funkcie `_()`.

## PrÃ­klad pouÅ¾itia:

**1. PrÃ­prava:**

* Texty na preklad pÃ­Å¡eme takto:

  ```python
  import gettext
  _ = gettext.gettext

  print(_("Vitajte v aplikÃ¡cii!"))
  ```
* Kde \_ je beÅ¾nÃ¡ konvencia (alias pre funkciu na preklad).

**2. Preklad:**

* Preklad sa vytvÃ¡ra pomocou externÃ½ch nÃ¡strojov (`xgettext`, `msgfmt`) do `.po` sÃºborov (Ä¾ahko editovateÄ¾nÃ©) a `.mo` sÃºborov (pre pouÅ¾itie v programe).

**3. PouÅ¾itie pre konkrÃ©tny jazyk:**

```python
import gettext

lang = gettext.translation('messages', localedir='locale', languages=['sk'])
lang.install()

print(_('Hello!'))  # VypÃ­Å¡e preklad podÄ¾a slovenÄiny
```

* `localedir` je cesta k prekladom, `'messages'` je meno domÃ©ny (sÃºboru).
* Ak nie je preklad, pouÅ¾ije sa pÃ´vodnÃ½ text.

---

# 4. KniÅ¾nica Babel

## Na Äo slÃºÅ¾i?

* **Babel** je externÃ¡ Python kniÅ¾nica pre **i18n a l10n webovÃ½ch a desktopovÃ½ch aplikÃ¡ciÃ­**.
* UmoÅ¾Åˆuje **preklad textov** aj **formÃ¡tovanie dÃ¡tumov, Äasov, ÄÃ­sel, mien** podÄ¾a zvolenÃ©ho jazyka a kultÃºry.
* Podporuje generovanie, extrakciu a sprÃ¡vu prekladovÃ½ch sÃºborov podobne ako gettext.

## ZÃ¡kladnÃ© pouÅ¾itie

### InÅ¡talÃ¡cia:

```bash
pip install Babel
```

### PrÃ­klady:

#### FormÃ¡tovanie dÃ¡tumu podÄ¾a locale:

```python
from babel.dates import format_date
from datetime import date

datum = date(2024, 7, 20)
print(format_date(datum, locale='sk'))  # '20. 7. 2024'
print(format_date(datum, locale='en'))  # 'Jul 20, 2024'
```

#### FormÃ¡tovanie ÄÃ­sla:

```python
from babel.numbers import format_decimal

print(format_decimal(1234567.89, locale='sk'))  # '1Â 234Â 567,89'
print(format_decimal(1234567.89, locale='en_US'))  # '1,234,567.89'
```

#### PrÃ¡ca s prekladmi (gettext-like):

Babel generuje `.po` a `.mo` sÃºbory a vie ich extrahovaÅ¥ z kÃ³du (vhodnÃ© napr. pre Flask weby).

---

# Zhrnutie

* **I18n (internationalization):** PrÃ­prava kÃ³du na viac jazykov.
* **L10n (localization):** Preklad a prispÃ´sobenie na konkrÃ©tny jazyk/oblasÅ¥.
* **`locale`** â€“ na formÃ¡tovanie podÄ¾a jazyka/Å¡tÃ¡tu (ÄÃ­sla, dÃ¡tumy).
* **`gettext`** â€“ na preklad textov v aplikÃ¡cii pomocou .po/.mo sÃºborov.
* **Babel** â€“ komplexnÃ¡ kniÅ¾nica na formÃ¡tovanie a preklady, rozÅ¡Ã­renÃ¡ hlavne vo webovÃ½ch aplikÃ¡ciÃ¡ch (napr. Flask, Pyramid).




JasnÃ©! Tu je **celÃ½ krok za krokom nÃ¡vod**, ako pouÅ¾iÅ¥ **Babel bez Flasku** â€“ teda v beÅ¾nom Python skripte â€“ na **preklad textov** pomocou `gettext` + `Babel`.

---

# Priklad

## ğŸ“ 1. Å truktÃºra projektu (vÃ½slednÃ¡)

```
projekt/
â”œâ”€â”€ main.py
â”œâ”€â”€ babel.cfg
â”œâ”€â”€ messages.pot              â† (vygenerujeÅ¡)
â””â”€â”€ translations/
    â””â”€â”€ sk/
        â””â”€â”€ LC_MESSAGES/
            â”œâ”€â”€ messages.po   â† (upravÃ­Å¡)
            â””â”€â”€ messages.mo   â† (vygenerujeÅ¡)
```

---

## ğŸ 2. `main.py` â€“ jednoduchÃ½ Python kÃ³d

```python
import gettext

lang = gettext.translation('messages', localedir='translations', languages=['sk'])
lang.install()

print(_('Hello!'))
```

---

## ğŸ“¦ 3. InÅ¡taluj Babel (ak eÅ¡te nemÃ¡Å¡)

```bash
pip install Babel
```

---

## âš™ï¸ 4. `babel.cfg` â€“ konfiguraÄnÃ½ sÃºbor pre `pybabel`

Vytvor v koreÅˆovom prieÄinku sÃºbor s nÃ¡zvom `babel.cfg`:

```ini
[python: **.py]
```

To hovorÃ­ Babelu, Å¾e mÃ¡ extrahovaÅ¥ texty zo vÅ¡etkÃ½ch `.py` sÃºborov.

---

## ğŸ§¾ 5. Extrahuj reÅ¥azce z kÃ³du â†’ `.pot` sÃºbor

Spusti v terminÃ¡li:

```bash
pybabel extract -F babel.cfg -o messages.pot .
```

VÃ½sledok: sÃºbor `messages.pot` s textami na preklad.

---

## ğŸŒ 6. Inicializuj preklad pre slovenÄinu

```bash
pybabel init -i messages.pot -d translations -l sk
```

To vytvorÃ­ sÃºbor: `translations/sk/LC_MESSAGES/messages.po`

---

## âœï¸ 7. Otvor a uprav `messages.po` (preloÅ¾ reÅ¥azce)

```po
msgid "Hello!"
msgstr "Ahoj!"
```

> MÃ´Å¾eÅ¡ pouÅ¾iÅ¥ akÃ½koÄ¾vek textovÃ½ editor.

---

## ğŸ§µ 8. Zkompiluj `.po` â†’ `.mo`

```bash
pybabel compile -d translations
```

VytvorÃ­ sa sÃºbor: `messages.mo`, ktorÃ½ `gettext` naÄÃ­ta.

---

## ğŸ 9. Spusti skript

```bash
python main.py
```

VÃ½stup:

```
Ahoj!
```

---

## âœ… Zhrnutie prÃ­kazov (prehÄ¾adne)

```bash
pip install Babel
pybabel extract -F babel.cfg -o messages.pot .
pybabel init -i messages.pot -d translations -l sk
# â†’ upraviÅ¥ messages.po
pybabel compile -d translations
python main.py
```
